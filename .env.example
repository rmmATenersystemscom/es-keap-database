# Keap Exporter Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# KEAP API CONFIGURATION
# =============================================================================

# Keap API Base URL (usually https://api.infusionsoft.com)
KEAP_BASE_URL=https://api.infusionsoft.com

# Authentication Method 1: OAuth2 (Recommended for higher quotas)
# Get these from Keap Developer Portal: https://developer.keap.com/
KEAP_CLIENT_ID=your_client_id_here
KEAP_CLIENT_SECRET=your_client_secret_here
KEAP_REDIRECT_URI=https://your-app.com/callback

# Authentication Method 2: API Key (Alternative for lower volume)
# Personal Access Token (PAT) or Service Account Key (SAK)
# KEAP_API_KEY=your_api_key_here

# Token storage file (OAuth2 tokens will be saved here)
KEAP_TOKEN_FILE=.keap_tokens.json

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=keap
DB_USER=keap
DB_PASSWORD=your_db_password_here

# =============================================================================
# SYNC CONFIGURATION
# =============================================================================

# Default sync settings
DEFAULT_LIMIT=1000
DEFAULT_OFFSET=0

# Throttle settings (requests per minute)
MAX_REQUESTS_PER_MINUTE=1000

# Retry settings
MAX_RETRIES=5
RETRY_DELAY=1
MAX_RETRY_DELAY=30

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (json, text)
LOG_FORMAT=json

# Log file (optional, defaults to stdout)
# LOG_FILE=keap_export.log

# =============================================================================
# VALIDATION CONFIGURATION
# =============================================================================

# Run validation after each sync
RUN_VALIDATION=true

# Validation tolerance for financial reconciliation (in cents)
VALIDATION_TOLERANCE=1

# =============================================================================
# EXPORT CONFIGURATION
# =============================================================================

# Export directory for CSV/Parquet files
EXPORT_DIR=./exports

# Export formats (comma-separated: csv,parquet,json)
EXPORT_FORMATS=csv,parquet

# =============================================================================
# FILE DOWNLOAD CONFIGURATION (Optional)
# =============================================================================

# Enable file downloads from contact file boxes
ENABLE_FILE_DOWNLOADS=false

# Directory for downloaded files
FILE_DOWNLOAD_DIR=./keap_files

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Enable debug mode
DEBUG=false

# Enable dry-run mode by default
DRY_RUN=false

# Test mode (uses smaller limits)
TEST_MODE=false
